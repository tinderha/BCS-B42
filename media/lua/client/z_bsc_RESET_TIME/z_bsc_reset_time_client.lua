----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
print("[ Loading z_bsc_RESET_TIME_CLIENT ]");
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
--
-- z_bsc_reset_time_client
--
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

z_bsc_reset_time_client = {
	timeToReset = "Unknown",
};

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

z_bsc_reset_time_client.initTime = function()
	if z_bsc_reset_time_client.timeToReset == "Unknown" then
		sendClientCommand(getSpecificPlayer(0), "z_bsc_reset_time_server", "getTime", {});
	else
		Events.EveryTenMinutes.Remove(z_bsc_reset_time_client.initTime);
	end;
end

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

z_bsc_reset_time_client.updateTime = function()
	sendClientCommand(getSpecificPlayer(0), "z_bsc_reset_time_server", "getTime", {});
end

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

z_bsc_reset_time_client.OnServerCommand = function(_module, _command, _args)
	if _module ~= "z_bsc_reset_time_client" then return end;
 	if _command == "updateTime" then
		z_bsc_reset_time_client.timeToReset = table.concat(_args, " ");
	end;
end

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

Events.OnServerCommand.Add(z_bsc_reset_time_client.OnServerCommand);
Events.EveryTenMinutes.Add(z_bsc_reset_time_client.initTime);

----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
