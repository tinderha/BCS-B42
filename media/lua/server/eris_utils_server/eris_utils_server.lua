----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
--
-- eris_utils_server
--
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

if isClient() then return; end;

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

local eris_utils_server = {};

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

function eris_utils_server.writeData(_plObj, _packet)
	eris_utils_server.writeToDisk(_packet.filename, _packet.stringTable, _packet.appendData);
end

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

function eris_utils_server.writeToDisk(_fileName, _stringList, _appendData)
	local fileWriterObj = getFileWriter(_fileName .. ".ini", false, _appendData);
	for _, data in pairs(_stringList) do
		fileWriterObj:write(
			data .. "\r\n"
		);
	end;
	fileWriterObj:close();
end

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

eris_utils_server.OnClientCommand = function(_module, _command, _plObj, _packet)
	if _module ~= "eris_utils" then return; end;
	if not eris_utils_server[_command] then
		print("aborted function call in eris_utils_server " .. (_command or "missing _command."));
	else
		eris_utils_server[_command](_plObj, _packet);
	end;
end

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

Events.OnClientCommand.Add(eris_utils_server.OnClientCommand);

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------